@using WebApp.Models
@model List<WebApp.Models.Result>


@{
    ViewBag.Title = "Result";
    Layout = "~/Views/Shared/_Layout.cshtml";
    // var data = ViewBag.data as List<WebApp.Models.Reports>;
    // string selectedSummary = data[0];
    var data = "";
    string selectedSummary = "";
    if (selectedSummary is null)
    {
        selectedSummary = "";
    }

}


<head>
    <style type="text/css">
        table {
            width: 100%;
            border-collapse: collapse;
        }

        .scrollingTable {
            overflow-y: auto;
        }
    </style>
    <script type="text/javascript">

        jQuery(document).ready(function ($) {
            $(".clickable-row").click(function () {
                window.location = $(this).data("href");
            });
        });

        $('#myLink').click(function () { selectedSummary = "testing.." });

        function updateSummary() {
            document.getElementById('summaryTb').value = "ecapital letters and the small letters represent distinct and unrelated entities.";
        }


        function makeTableScroll() {
            // Constant retrieved from server-side via JSP
            var maxRows = 10;
            var table = document.getElementById('ResultTable');
            var wrapper = table.parentNode;
            var rowsInTable = table.rows.length;
            var height = 0;
            if (rowsInTable > maxRows) {
                for (var i = 0; i < maxRows; i++) {
                    height += table.rows[i].clientHeight;
                }
                wrapper.style.height = height + "px";
            }
        }


    </script>
</head>


<h2>Results</h2>

<body onload="makeTableScroll();">
    <div class="scrollingTable">

        <table id="ResultTable" class="fixed_headers">
            <thead>
                <tr>

                    @foreach (var itm2 in Result.HeaderList)
                    {
                        <th>
                            @Html.DisplayFor(modelItem => itm2)
                        </th>

                    }

                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>

                        <td>
                            @Html.DisplayFor(modelItem => item.Id)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Author)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Keywords)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Date)
                        </td>
                        <td>
                            <a href="#" onclick="updateSummary()"> Summary </a>
                        </td>
                        <td>
                            @Html.ActionLink("Download", "Notimplemented", new { id = item.Id })
                        </td>

                    </tr>
                }
            </tbody>

        </table>
    </div>


</body>
<br />
<br />
<h3>Summary - fill tb when clicking on summary link</h3>
@Html.TextBox("summaryTb", selectedSummary, new { @readonly = "readonly" })

